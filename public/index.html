<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Video Formats Converter - Dashboard</title>
  <link rel="icon" type="image/svg+xml" href="/images/logo.svg">
  <link rel="stylesheet" href="/css/styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="app">
    <!-- Header -->
    <header class="header">
      <div class="logo">
        <div class="logo-container">
          <svg class="logo-icon" viewBox="0 0 512 512" fill="none">
            <rect width="512" height="512" rx="80" fill="url(#logoGrad)"/>
            <path d="M160 190C160 178.954 168.954 170 180 170H300C311.046 170 320 178.954 320 190V322C320 333.046 311.046 342 300 342H180C168.954 342 160 333.046 160 322V190Z" fill="white"/>
            <path d="M340 215L400 180V332L340 297V215Z" fill="white"/>
            <defs>
              <linearGradient id="logoGrad" x1="0" y1="0" x2="512" y2="512" gradientUnits="userSpaceOnUse">
                <stop stop-color="#6366f1"/>
                <stop offset="1" stop-color="#a855f7"/>
              </linearGradient>
            </defs>
          </svg>
        </div>
        <span class="logo-text">VideoConvert</span>
      </div>
      <nav class="nav">
        <a href="#" class="nav-link active" data-view="converter">Converter</a>
        <a href="#" class="nav-link" data-view="batch">Batch</a>
        <a href="#" class="nav-link" data-view="about">About</a>
      </nav>
    </header>

    <!-- Main Content -->
    <main class="main">
      <!-- Converter View -->
      <section id="converter-view" class="view active">
        <div class="container">
          <div class="hero">
            <h1>Convert Videos Instantly</h1>
            <p>Transform aspect ratios and formats for any platform</p>
          </div>

          <!-- Upload Zone -->
          <div class="upload-zone" id="upload-zone">
            <div class="upload-content">
              <svg class="upload-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                <polyline points="17 8 12 3 7 8"></polyline>
                <line x1="12" y1="3" x2="12" y2="15"></line>
              </svg>
              <h3>Drop your video here</h3>
              <p>or click to browse</p>
              <span class="upload-formats">MP4, MOV, MKV, AVI, WebM (max 500MB)</span>
            </div>
            <input type="file" id="file-input" accept=".mp4,.mov,.mkv,.avi,.webm,.m4v,.wmv" hidden>
          </div>

          <!-- Video Preview & Settings -->
          <div class="converter-panel" id="converter-panel" style="display: none;">
            <div class="panel-grid">
              <!-- Preview Section -->
              <div class="preview-section">
                <div class="preview-card">
                  <h3>Input Video</h3>
                  <div class="video-preview" id="input-preview">
                    <video id="preview-video" controls></video>
                  </div>
                  <div class="video-info" id="video-info"></div>
                </div>

                <div class="preview-card">
                  <h3>Output Preview</h3>
                  <div class="aspect-preview" id="output-preview">
                    <div class="aspect-frame" id="aspect-frame">
                      <div class="aspect-content"></div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Settings Section -->
              <div class="settings-section">
                <div class="settings-card">
                  <h3>Conversion Settings</h3>

                  <!-- Aspect Ratio -->
                  <div class="setting-group">
                    <label>Aspect Ratio</label>
                    <div class="ratio-grid" id="ratio-grid">
                      <button class="ratio-btn" data-ratio="16:9">
                        <div class="ratio-preview r-16-9"></div>
                        <span>16:9</span>
                        <small>Landscape</small>
                      </button>
                      <button class="ratio-btn selected" data-ratio="9:16">
                        <div class="ratio-preview r-9-16"></div>
                        <span>9:16</span>
                        <small>Portrait</small>
                      </button>
                      <button class="ratio-btn" data-ratio="1:1">
                        <div class="ratio-preview r-1-1"></div>
                        <span>1:1</span>
                        <small>Square</small>
                      </button>
                      <button class="ratio-btn" data-ratio="4:5">
                        <div class="ratio-preview r-4-5"></div>
                        <span>4:5</span>
                        <small>Portrait</small>
                      </button>
                    </div>
                  </div>

                  <!-- Transform Mode -->
                  <div class="setting-group">
                    <label>Transform Mode</label>
                    <div class="mode-grid" id="mode-grid">
                      <button class="mode-btn" data-mode="fit">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                          <rect x="3" y="3" width="18" height="18" rx="2"></rect>
                          <rect x="6" y="8" width="12" height="8" fill="currentColor" opacity="0.3"></rect>
                        </svg>
                        <span>Fit</span>
                        <small>Black bars</small>
                      </button>
                      <button class="mode-btn selected" data-mode="fill">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                          <rect x="3" y="3" width="18" height="18" rx="2" fill="currentColor" opacity="0.3"></rect>
                          <line x1="1" y1="12" x2="5" y2="12" stroke-width="3"></line>
                          <line x1="19" y1="12" x2="23" y2="12" stroke-width="3"></line>
                        </svg>
                        <span>Fill</span>
                        <small>Full frame</small>
                      </button>
                      <button class="mode-btn" data-mode="stretch">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                          <rect x="3" y="3" width="18" height="18" rx="2" fill="currentColor" opacity="0.3"></rect>
                          <path d="M8 12H3M21 12H16M12 8V3M12 21V16"></path>
                        </svg>
                        <span>Stretch</span>
                        <small>Distort</small>
                      </button>
                    </div>
                  </div>

                  <!-- Output Format -->
                  <div class="setting-group">
                    <label>Output Format</label>
                    <select id="format-select" class="select">
                      <option value="mp4">MP4 - Universal (Recommended)</option>
                      <option value="mov">MOV - Apple QuickTime</option>
                      <option value="mkv">MKV - Open Source</option>
                      <option value="avi">AVI - Microsoft</option>
                      <option value="webm">WebM - Web Video</option>
                    </select>
                  </div>

                  <!-- Quality -->
                  <div class="setting-group">
                    <label>Quality</label>
                    <select id="quality-select" class="select">
                      <option value="high">High - Best quality, larger file</option>
                      <option value="medium" selected>Medium - Balanced (Recommended)</option>
                      <option value="low">Low - Smaller file, lower quality</option>
                      <option value="draft">Draft - Fast preview</option>
                    </select>
                  </div>

                  <!-- Resolution -->
                  <div class="setting-group">
                    <label>Resolution</label>
                    <select id="resolution-select" class="select">
                      <option value="">Auto (match input)</option>
                      <option value="4k">4K - 3840x2160</option>
                      <option value="1080p">1080p - 1920x1080</option>
                      <option value="720p">720p - 1280x720</option>
                      <option value="480p">480p - 854x480</option>
                      <option value="360p">360p - 640x360</option>
                    </select>
                  </div>

                  <!-- Background Color -->
                  <div class="setting-group">
                    <label>Background Color (for padding)</label>
                    <div class="color-options">
                      <button class="color-btn selected" data-color="black" style="background: #000"></button>
                      <button class="color-btn" data-color="white" style="background: #fff"></button>
                      <button class="color-btn" data-color="#1a1a2e" style="background: #1a1a2e"></button>
                      <button class="color-btn" data-color="blur" style="background: linear-gradient(45deg, #667eea, #764ba2)">
                        <span style="font-size: 10px;">Blur</span>
                      </button>
                    </div>
                  </div>

                  <!-- Convert Button -->
                  <button class="convert-btn" id="convert-btn">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <polygon points="5 3 19 12 5 21 5 3"></polygon>
                    </svg>
                    <span>Convert Video</span>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Progress Section -->
          <div class="progress-section" id="progress-section" style="display: none;">
            <div class="progress-card">
              <div class="progress-header">
                <h3>Converting...</h3>
                <span class="progress-percent" id="progress-percent">0%</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
              </div>
              <p class="progress-status" id="progress-status">Initializing converter...</p>
            </div>
          </div>

          <!-- Download Section -->
          <div class="download-section" id="download-section" style="display: none;">
            <div class="download-card">
              <div class="success-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                  <polyline points="22 4 12 14.01 9 11.01"></polyline>
                </svg>
              </div>
              <h3>Conversion Complete!</h3>
              <p>Your video is ready to download</p>
              <a class="download-btn" id="download-btn" href="#" download>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                  <polyline points="7 10 12 15 17 10"></polyline>
                  <line x1="12" y1="15" x2="12" y2="3"></line>
                </svg>
                <span>Download Video</span>
              </a>
              <button class="new-conversion-btn" id="new-conversion-btn">Convert Another Video</button>
            </div>
          </div>
        </div>
      </section>

      <!-- Batch View -->
      <section id="batch-view" class="view">
        <div class="container">
          <div class="hero">
            <h1>Batch Conversion</h1>
            <p>Convert multiple videos at once with the same settings</p>
          </div>

          <!-- Pro Required Notice (shown for free users) -->
          <div class="batch-pro-notice" id="batch-pro-notice" style="display: none;">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
            </svg>
            <div>
              <h3>Pro Feature</h3>
              <p>Batch conversion is available with a Pro license.</p>
              <button class="upgrade-btn" onclick="app.showUpgradeModal()">Upgrade to Pro</button>
            </div>
          </div>

          <!-- Batch Upload Zone (shown for pro users) -->
          <div class="batch-container" id="batch-container">
            <div class="batch-upload-zone" id="batch-upload-zone">
              <div class="upload-content">
                <svg class="upload-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                  <polyline points="17 8 12 3 7 8"></polyline>
                  <line x1="12" y1="3" x2="12" y2="15"></line>
                </svg>
                <h3>Drop multiple videos here</h3>
                <p>or click to browse</p>
                <span class="upload-formats">MP4, MOV, MKV, AVI, WebM (max 500MB each)</span>
              </div>
              <input type="file" id="batch-file-input" accept=".mp4,.mov,.mkv,.avi,.webm,.m4v,.wmv" multiple hidden>
            </div>

            <!-- Batch Queue -->
            <div class="batch-queue" id="batch-queue" style="display: none;">
              <div class="batch-queue-header">
                <h3>Video Queue <span class="queue-count" id="queue-count">0 videos</span></h3>
                <div class="batch-actions">
                  <button class="btn-secondary" id="add-more-btn">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
                      <line x1="12" y1="5" x2="12" y2="19"></line>
                      <line x1="5" y1="12" x2="19" y2="12"></line>
                    </svg>
                    Add More
                  </button>
                  <button class="btn-secondary" id="clear-queue-btn">Clear All</button>
                </div>
              </div>

              <div class="batch-list" id="batch-list">
                <!-- Batch items will be added here dynamically -->
              </div>

              <!-- Batch Settings -->
              <div class="batch-settings">
                <h4>Apply to All Videos</h4>
                <div class="batch-settings-grid">
                  <div class="setting-group">
                    <label>Aspect Ratio</label>
                    <select id="batch-ratio" class="select">
                      <option value="9:16">9:16 - Portrait</option>
                      <option value="16:9">16:9 - Landscape</option>
                      <option value="1:1">1:1 - Square</option>
                      <option value="4:5">4:5 - Portrait</option>
                    </select>
                  </div>
                  <div class="setting-group">
                    <label>Transform Mode</label>
                    <select id="batch-mode" class="select">
                      <option value="fill">Fill - Full frame (crop)</option>
                      <option value="fit">Fit - Black bars</option>
                      <option value="stretch">Stretch - Distort</option>
                    </select>
                  </div>
                  <div class="setting-group">
                    <label>Output Format</label>
                    <select id="batch-format" class="select">
                      <option value="mp4">MP4</option>
                      <option value="mov">MOV</option>
                      <option value="mkv">MKV</option>
                      <option value="webm">WebM</option>
                    </select>
                  </div>
                  <div class="setting-group">
                    <label>Quality</label>
                    <select id="batch-quality" class="select">
                      <option value="high">High</option>
                      <option value="medium" selected>Medium</option>
                      <option value="low">Low</option>
                    </select>
                  </div>
                </div>
              </div>

              <!-- Convert All Button -->
              <button class="convert-btn batch-convert-btn" id="batch-convert-btn">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polygon points="5 3 19 12 5 21 5 3"></polygon>
                </svg>
                <span>Convert All Videos</span>
              </button>
            </div>

            <!-- Batch Progress -->
            <div class="batch-progress" id="batch-progress" style="display: none;">
              <div class="batch-progress-header">
                <h3>Converting Videos</h3>
                <span class="batch-progress-count" id="batch-progress-count">0 / 0</span>
              </div>
              <div class="batch-progress-list" id="batch-progress-list">
                <!-- Progress items will be added here -->
              </div>
            </div>

            <!-- Batch Complete -->
            <div class="batch-complete" id="batch-complete" style="display: none;">
              <div class="success-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                  <polyline points="22 4 12 14.01 9 11.01"></polyline>
                </svg>
              </div>
              <h3>All Conversions Complete!</h3>
              <p id="batch-complete-count">0 videos converted successfully</p>
              <div class="batch-download-list" id="batch-download-list">
                <!-- Download links will be added here -->
              </div>
              <button class="new-conversion-btn" id="batch-new-btn">Convert More Videos</button>
            </div>
          </div>
        </div>
      </section>

      <!-- About View -->
      <section id="about-view" class="view">
        <div class="container">
          <div class="about-content">
            <h1>About VideoConvert</h1>
            <p class="lead">A powerful video format and aspect ratio converter built for content creators.</p>

            <div class="features-grid">
              <div class="feature-card">
                <div class="feature-icon">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
                    <line x1="8" y1="21" x2="16" y2="21"></line>
                    <line x1="12" y1="17" x2="12" y2="21"></line>
                  </svg>
                </div>
                <h3>Multiple Aspect Ratios</h3>
                <p>Convert between 16:9, 9:16, 1:1, and 4:5 for any platform.</p>
              </div>

              <div class="feature-card">
                <div class="feature-icon">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                    <polyline points="14 2 14 8 20 8"></polyline>
                  </svg>
                </div>
                <h3>All Major Formats</h3>
                <p>Support for MP4, MOV, MKV, AVI, and WebM formats.</p>
              </div>

              <div class="feature-card">
                <div class="feature-icon">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>
                  </svg>
                </div>
                <h3>Fast Processing</h3>
                <p>Powered by FFmpeg for efficient, high-quality conversions.</p>
              </div>

              <div class="feature-card">
                <div class="feature-icon">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                    <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                  </svg>
                </div>
                <h3>Private & Secure</h3>
                <p>All processing happens locally on your machine.</p>
              </div>
            </div>

            <div class="tech-stack">
              <h3>Tech Stack</h3>
              <div class="tech-badges">
                <span class="badge">Node.js</span>
                <span class="badge">Express</span>
                <span class="badge">FFmpeg</span>
                <span class="badge">Socket.IO</span>
                <span class="badge">Vanilla JS</span>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <p>VideoConvert v1.0.0 | Powered by FFmpeg</p>
      <div class="footer-links">
        <a href="https://videoconvert.video" target="_blank" rel="noopener">Website</a>
        <span class="divider">•</span>
        <a href="https://videoconvert.video/feedback" target="_blank" rel="noopener">Feedback</a>
        <span class="divider">•</span>
        <a href="https://videoconvert.video/docs" target="_blank" rel="noopener">Docs</a>
      </div>
    </footer>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="/js/app.js"></script>
</body>
</html>
